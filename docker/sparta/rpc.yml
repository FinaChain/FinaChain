version: '3.7'
services:
  node:
    init: true
    container_name: node
    image: ghcr.io/polischain/openethereum:main
    user: root
    command:
      --chain=sparta
      --base-path=/root/data
      --pruning=archive
      --max-peers=100
      --tx-time-limit=1000
      --jsonrpc-port=8545
      --jsonrpc-cors=all
      --jsonrpc-interface=all
      --jsonrpc-hosts=all
      --jsonrpc-apis=web3,eth,net,parity,traces
      --fat-db="on"
      --tracing="on"
    volumes:
      - ./node_data:/root/data
    expose:
      - "8545"
    ports:
      - "8545:8545"
      - "30303:30303"
      - "30303:30303/udp"
    restart: always